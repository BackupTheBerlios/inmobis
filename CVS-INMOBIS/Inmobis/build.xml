<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project [<!ENTITY buildfile SYSTEM "file:./build-user.xml">]>
<!-- WARNING: Eclipse autogenerated file. 
              Any modifications will be overwritten.
              Please edit build-user.xml instead.
-->
<project basedir="." default="war" name="Inmobis">
    <!-- &buildfile; -->
    <property name="Inmobis.location" value="H:/Documents and Settings/Ainhoa/workspace4/CVS-INMOBIS"/>
	<property name="tomcat.home" value="H:/Documents and Settings/Ainhoa/Escritorio/tomcat" />
	<property name="tomcat.deploy" value="${tomcat.home}/webapps" />
	<property name="tomcatInmobis.dir" value="${tomcat.deploy}/Inmobis" />
	<property name="localsrc.dir" value="${Inmobis.location}/src" />
	<property name="localclasses.dir" value="${Inmobis.location}/WebRoot/WEB-INF/classes" />
	<property name="build.dir" value="${Inmobis.location}/Build" />
	<property name="buildclasses.dir" value="${build.dir}/WEB-INF/classes" />

	<property name="servlet.jar" value="${tomcat.home}/common/lib/servlet-api.jar" />
    <path id="build.classpath">
        <pathelement location="WebRoot/WEB-INF/classes"/>
        <pathelement location="Z:/tomcat/common/lib/servlet-api.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/antlr.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-beanutils.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-collections.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-digester.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-fileupload.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-lang.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-logging.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/commons-validator.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/jakarta-oro.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/jstl.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/standard.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/struts.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/struts-el.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/struts-legacy.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/log4j-1.2.13.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/junit-4.0.jar"/>
        <pathelement location="${Inmobis.location}/WebRoot/WEB-INF/lib/strutstest-2.1.3.jar"/>
		<pathelement path="${build.dir}" />
    </path>

	<target name="prepare">
		<antcall target="distclean"></antcall>
		<tstamp />
		<mkdir dir="${build.dir}" />
		<mkdir dir="${build.dir}/estilo" />
		<mkdir dir="${build.dir}/images" />
		<mkdir dir="${build.dir}/META-INF" />
		<mkdir dir="${build.dir}/WEB-INF" />
		<mkdir dir="${build.dir}/WEB-INF/classes" />
		<mkdir dir="${build.dir}/WEB-INF/lib" />
		<copy todir="${build.dir}">
			<fileset dir="${Inmobis.location}/WebRoot">
				<include name="**/*.jsp" />
				<include name="**/*.htm" />
			</fileset>
		</copy>
		<copy todir="${build.dir}/WEB-INF">
			<fileset dir="${Inmobis.location}/WebRoot/WEB-INF">
				<exclude name="**/*.mex" />			
			</fileset>
		</copy>
		<copy todir="${build.dir}/estilo">
			<fileset dir="${Inmobis.location}/WebRoot/estilo"></fileset>
		</copy>
		<copy todir="${build.dir}/images">
			<fileset dir="${Inmobis.location}/WebRoot/images"></fileset>
		</copy>
		<copy todir="${build.dir}/META-INF">
			<fileset dir="${Inmobis.location}/WebRoot/META-INF"></fileset>
		</copy>
		<copy todir="${buildclasses.dir}">
			<fileset dir="${localsrc.dir}">
				<include name="**/*.properties" />
			</fileset>
		</copy>
	</target>
	
	<target name="compile" depends="prepare" >
		<javac srcdir="${localclasses.dir}" 
			destdir="${buildclasses.dir}" deprecation="on">
			<exclude name="**/*.properties" />
			<classpath refid="build.classpath"></classpath>
		</javac>
	</target>

	<target name="clean">
		<delete dir="${build.dir}" />
    </target>
    <target name="distclean">
    	<delete dir="${tomcatInmobis.dir}"/>
    </target>
	
    <target name="war" depends="compile" >
        <echo message="Creando War..."/>
    	<war warfile="${tomcat.deploy}/inmobis.war"
    		webxml="${Inmobis.location}/WebRoot/WEB-INF/web.xml">
			<fileset dir="${build.dir}"></fileset>
    		<classes dir="${buildclasses.dir}" />
    	</war>
		<antcall target="clean"></antcall>
    </target>
	
</project>
